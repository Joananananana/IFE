<div>
    <label>String A:
        <input id="radio-a" type="radio" checked="true" name="str-obj" value="a">
    </label>
    <textarea id="str-a"></textarea>
    <label>String B:
        <input id="radio-b" type="radio" name="str-obj" value="b">
    </label>
    <textarea id="str-b"></textarea>        
    <label>Num A：<input id="num-a" type="number" value="0"></label>
    <label>Num B：<input id="num-b" type="number" value="1"></label>
</div>
<div id="buttonlist">
    <button id="btn1">获取当前选中输入的内容长度</button>
    <button id="btn2">当前选中输入中的第3个字符</button>
    <button id="btn3">把两个输入框的文字连接在一起输出（concat）</button>
    <button id="btn4">输入B中的内容，在输入A的内容中第一次出现的位置（indexOf）</button>
    <button id="btn5">输入A中的内容，在输入B的内容中最后一次出现的位置（lastIndexOf）</button>
    <button id="btn6">使用slice获取选中输入框内容的部分内容，参数为num-a及num-b</button>
    <button id="btn7">当前选中输入框的行数</button>
    <button id="btn8">使用substr获取选中输入框内容的子字符串，参数为num-a及num-b</button>
    <button id="btn9">把所选输入框中的内容全部转为大写</button>
    <button id="btn10">把所选输入框中的内容全部转为小写</button>
    <button id="btn11">把所选输入框中内容的半角空格全部去除</button>
    <button id="btn12">把所选输入框中内容的a全部替换成另外一个输入框中的内容</button>
</div>
<p id="result"></p>
<script>
    window.onload=function(){
    var list=document.getElementById("buttonlist");
    var result=document.getElementById("result");
    var radioa=document.getElementById("radio-a");
    var radiob=document.getElementById("radio-b");
    var texta=document.getElementById("str-a");
    var textb=document.getElementById("str-b");
    var numa=document.getElementById("num-a");
    var numb=document.getElementById("num-b");
    list.onclick=function(e){
        var target=e.target;
        target.onclick=function(){
            if(radioa.checked==true)
                var text=document.getElementById("str-a");
            if(radiob.checked==true)
                var text=document.getElementById("str-b");
            var txt=text.value;
            var txta=texta.value;
            var txtb=textb.value;
            var numbera=numa.value;
            var numberb=numb.value;
            switch(target.id){
                case 'btn1':
                    result.innerHTML=txt.length;break;
                case 'btn2':
                    result.innerHTML=txt[2];break;
                case 'btn3':
                    result.innerHTML=txta.concat(txtb);break;
                case 'btn4':
                    result.innerHTML=txta.indexOf(txtb);break;
                case 'btn5':
                    result.innerHTML=txtb.lastIndexOf(txta);break;
                case 'btn6':
                    result.innerHTML=numbera.slice(-1).concat(numberb.slice(-1));break;
                    //result.innerHTML=numbera.slice(numbera.length-1,numbera.length);
                case 'btn7':
                    result.innerHTML=txt.split(/\r?\n/).length;break;
                    //如何解决自动换行符的问题？
                case 'btn8':
                    result.innerHTML=txt.substr(2,3);break;
                case 'btn9': 
                    result.innerHTML=txt.toUpperCase();break;
                case 'btn10': 
                    result.innerHTML=txt.toLowerCase();break;
                case 'btn11': 
                    txt=txt.replace(/ /g,"");  /*函数本身不会改变字符串 先将replace结果保存在变量中，才有效果 */
                    result.innerHTML=txt;break;
                case 'btn12': 
                    if(text===texta){
                        txta=txta.replace(/a/g,txtb);
                        result.innerHTML=txta;
                    }
                    else{
                        txtb=txtb.replace(/a/g,txta);
                        result.innerHTML=txtb;
                    }
                    break;
            }
        }
    }
}
</script>
